<form [formGroup]="formHorarioAtencion" (ngSubmit)="manejarEnvio()" class="form-container">
    <fieldset class="form-field">
        <label for="dia" class="form-label">Dia</label>
        <select id="dia" formControlName="dia"class="form-input"
            [class.border-red-500]="formHorarioAtencion.get('dia')?.invalid && formHorarioAtencion.get('dia')?.touched">
            <option value="" disabled selected>Seleccionar tipo</option>
            <option value="MONDAY">Lunes</option>
            <option value="TUESDAY">Martes</option>
            <option value="WEDNESDAY">Miercoles</option>
            <option value="THURSDAY">Jueves</option>
            <option value="FRIDAY">Viernes</option>
            <option value="SATURDAY">Sabado</option>
            <option value="SUNDAY">Domingo</option>
        </select> 
        @if (formHorarioAtencion.get('dia')?.touched && formHorarioAtencion.controls['dia'].errors?.['required']) {
                <p class="form-error">*Obligatorio</p>
            } 
    </fieldset>

    <fieldset class="form-field">
        <label class="form-label">Hora de apertura</label>
        <div class="time-picker-container">
            <div class="time-input-wrapper">
                <input type="number" id="horaAId" formControlName="horaA" class="time-input time-input-hour"
                    [class.border-red-500]="getError('horaA')"
                    [class.focus:ring-red-500]="getError('horaA')">
                <span class="time-label">Hora</span>
                @if (getError('horaA')) {
                        <p class="form-error">{{ getError('horaA') }}</p>
                    }
            </div>    
        
        <span class="time-separator">:</span>
        
            <div class="time-input-wrapper">
                <input type="number" id="minuteAId" formControlName="minuteA" class="time-input time-input-minute"
                    [class.border-red-500]="getError('minuteA')"
                    [class.focus:ring-red-500]="getError('minuteA')">
                <span class="time-label">Minuto</span>
                @if (getError('minuteA')) {
                        <p class="form-error">{{ getError('minuteA') }}</p>
                    }
            </div>
        </div> 
    </fieldset>

    <fieldset class="form-field">
        <label class="form-label">Hora de cierre</label>
        <div class="time-picker-container">
            <div class="time-input-wrapper">
                <input type="number" id="horaCId" formControlName="horaC" class="time-input time-input-hour"
                    [class.border-red-500]="getError('horaC')"
                    [class.focus:ring-red-500]="getError('horaC')">
                <span class="time-label">Hora</span>
                @if (getError('horaC')) {
                        <p class="form-error">{{ getError('horaC') }}</p>
                    }
            </div>    
        
        <span class="time-separator">:</span>
        
            <div class="time-input-wrapper">
                <input type="number" id="minuteCId" formControlName="minuteC" class="time-input time-input-minute"
                    [class.border-red-500]="getError('minuteC')"
                    [class.focus:ring-red-500]="getError('minuteC')">
                <span class="time-label">Minuto</span>
                @if (getError('minuteC')) {
                        <p class="form-error">{{ getError('minuteC') }}</p>
                    }
            </div>
        </div> 
    </fieldset>
    <div style="margin-top: 24px;">
        <button 
            type="submit" 
            [disabled]="formHorarioAtencion.invalid || isSubmitting()" 
            class="form-button">
            @if (isSubmitting()) {
                <span class="inline-flex items-center justify-center gap-2">
                    <span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                    {{modoEdicion ? 'Editando...' : 'Creando...' }}
                </span>
            } @else {
                    {{modoEdicion ? 'Editar' : 'Crear' }}
            }
        </button>
    </div>       
</form>

