<form [formGroup]="formCalificacionRepartidor" (ngSubmit)="manejarEnvioRepartidor()" class="space-y-4">
   <!-- Header del formulario -->
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-bold text-gray-900">
      Nueva calificacion
    </h3>
  </div>  
    <fieldset> 
    <label for="puntajeAtencion">Puntaje de la atencion</label>
    <select id="puntajeAtencion"
        formControlName="puntajeAtencion" 
        class="form-input"
        [class.border-red-500]="formCalificacionRepartidor.get('puntajeComida')?.invalid && formCalificacionRepartidor.get('puntajeAtencion')?.touched">
        <option value="" disabled selected>Seleccionar puntaje</option>
        <option [value]="1">1 estrella</option>
        <option [value]="2">2 estrellas</option>
        <option [value]="3">3 estrellas</option>
        <option [value]="4">4 estrellas</option>
        <option [value]="5">5 estrellas</option>
    </select>
    @if (formCalificacionRepartidor.get('puntajeAtencion')?.touched && formCalificacionRepartidor.controls['puntajeAtencion'].errors?.['required']) {
        <p class="form-error">*Obligatorio</p>
    }
  </fieldset>
  <fieldset> 
    <label for="puntajeComunicacion">Puntaje de la comunicacion</label>
    <select id="puntajeComunicacion"
        formControlName="puntajeComunicacion" 
        class="form-input"
        [class.border-red-500]="formCalificacionRepartidor.get('puntajeComunicacion')?.invalid && formCalificacionRepartidor.get('puntajeComunicacion')?.touched">
        <option value="" disabled selected>Seleccionar puntaje</option>
        <option [value]="1">1 estrella</option>
        <option [value]="2">2 estrellas</option>
        <option [value]="3">3 estrellas</option>
        <option [value]="4">4 estrellas</option>
        <option [value]="5">5 estrellas</option>
    </select>
    @if (formCalificacionRepartidor.get('puntajeComunicacion')?.touched && formCalificacionRepartidor.controls['puntajeComunicacion'].errors?.['required']) {
        <p class="form-error">*Obligatorio</p>
    }
  </fieldset>
  <fieldset> 
    <label for="puntajeProfesionalismo">Puntaje del profesionalismo </label>
    <select id="puntajeProfesionalismo"
        formControlName="puntajeProfesionalismo" 
        class="form-input"
        [class.border-red-500]="formCalificacionRepartidor.get('puntajeProfesionalismo')?.invalid && formCalificacionRepartidor.get('puntajeProfesionalismo')?.touched">
        <option value="" disabled selected>Seleccionar puntaje</option>
        <option [value]="1">1 estrella</option>
        <option [value]="2">2 estrellas</option>
        <option [value]="3">3 estrellas</option>
        <option [value]="4">4 estrellas</option>
        <option [value]="5">5 estrellas</option>
    </select>
    @if (formCalificacionRepartidor.get('puntajeProfesionalismo')?.touched && formCalificacionRepartidor.controls['puntajeProfesionalismo'].errors?.['required']) {
        <p class="form-error">*Obligatorio</p>
    }
  </fieldset>
  <fieldset>
    <label for="coment">Comentario</label>
    <input 
        type="text" 
        id="coment" 
        placeholder="Ingrese el comentario aqui"
        formControlName="comentario" 
        class="form-input"
        [class.border-red-500]="getError"
        [class.focus:ring-red-500]="getError">
        @if (getError('comentario')) {
            <p class="form-error">{{ getError('comentario') }}</p>
        }
    </fieldset> 
        <!-- BotÃ³n de submit -->
    <div style="margin-top: 24px;">
        <button 
            type="submit" 
            [disabled]="formCalificacionRepartidor.invalid || isSubmitting()" 
            class="form-button"
        >
            @if (isSubmitting()) {
                <span class="inline-flex items-center justify-center gap-2">
                    <span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
                    Enviando calificacion...
                </span>
            } @else {
                Calificar
            }
        </button>
    </div>   
</form>
