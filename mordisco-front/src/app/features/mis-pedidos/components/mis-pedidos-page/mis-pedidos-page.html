<main class="pt-20">
  <div class="w-full max-w-7xl mx-auto px-4 py-8 space-y-8">
    
    <!-- Header -->
    <div class="text-center space-y-2">
      <h1 class="titulo-hero">Mis Pedidos</h1>
      <p class="text-gray-600 text-lg">Gestiona los pedidos de tu restaurante</p>
    </div>

    <!-- Tabs de filtros -->
    <mat-tab-group
      [(selectedIndex)]="selectedTabIndex"
      (selectedIndexChange)="onTabChange($event)"
      class="custom-tabs">
      
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon>all_inbox</mat-icon>
            <span>Todos</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-yellow-600">schedule</mat-icon>
            <span>Pendientes</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-blue-600">restaurant</mat-icon>
            <span>En Preparación</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-green-600">shopping_bag</mat-icon>
            <span>Listo para Retirar</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-purple-600">inventory_2</mat-icon>
            <span>Listo para Entregar</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-indigo-600">local_shipping</mat-icon>
            <span>En Camino</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-emerald-600">check_circle</mat-icon>
            <span>Completados</span>
          </div>
        </ng-template>
      </mat-tab>

      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-red-600">cancel</mat-icon>
            <span>Cancelados</span>
          </div>
        </ng-template>
      </mat-tab>
    </mat-tab-group>

    <!-- Contenido -->
    <section class="space-y-6 mt-8">
      @if (isLoadingPedidos) {
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <p class="loading-text">Cargando pedidos...</p>
        </div>
      } @else {
        @if (arrPedidos && arrPedidos.length > 0) {
          <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            @for (pedido of arrPedidos; track pedido.id) {
              <li class="fade-in">
                <app-pedido-card-component 
                  [isUsuario]="'ROLE_RESTAURANTE'"
                  [pedido]="pedido"
                  (aceptarPedido)="aceptarPedido($event)"
                  (rechazarPedido)="rechazarPedido($event)"
                  (cambiarEstado)="cambiarEstado($event)"
                  class="block h-full">
                </app-pedido-card-component>
              </li>
            }
          </ul>

          <!-- Paginador -->
          <div class="flex justify-center mt-8">
            <mat-paginator
              [length]="lengthPedidos"
              [pageSize]="sizePedidos"
              [pageIndex]="pagePedidos"
              [pageSizeOptions]="[5, 10, 25, 50]"
              (page)="onPageChangePedidos($event)"
              class="bg-white rounded-xl shadow-md">
            </mat-paginator>
          </div>
        } @else {
          <div class="empty-state">
            <mat-icon class="empty-icon">receipt_long</mat-icon>
            <h3 class="empty-title">No hay pedidos</h3>
            <p class="empty-description">
              Los pedidos aparecerán aquí cuando los clientes realicen compras
            </p>
          </div>
        }
      }
    </section>
  </div>
</main>